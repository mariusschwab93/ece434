# HW02
Wesley Van Pelt - CM3289

## Buttons and LEDs
1. Wire up your breadboard to have 4 buttons. Each is to have one terminal attached to +3.3V and the other to a GPIO port.
    * Done
2. Also wire up 4 LEDs with current limiting resistors. Tie the plus side of the LED to the GPIO port and run the minus to the resistor and to ground.
    * Done
3. Write a simple program that reads the switches and lights a corresponding LED. Use interrupts.
    * Run `./buttonLED.py` ([`buttonLED.py`](buttonLED.py)) to check.

## Measuring a gpio pin on an Oscilloscope
<table>
    <thead>
        <tr><th>Question</th> <th>Shell (before)</th> <th>Shell (after)</th> <th>Python</th> <th>C</th></tr>
    </thead>
    <tbody>
        <tr><th>1. Min/Max voltage</th> <th>0.0/3.4</th> <th>0.0/3.4</th> <th>0.0/3.36</th> <th>0.0/3.36</th></tr>
        <tr><th>2. Period</th> <th>240ms</th> <th>216ms</th> <th>200ms</th> <th>200ms</th></tr>
        <tr><th>3. How close to 100ms</th> <th>+20ms</th> <th>+8ms</th> <th>+0ms</th> <th>+0ms</th></tr>
        <tr><th>4. Why do they differ?</th> <th colspan=4>The amount of overhead while running the language</th></tr>
        <tr><th>5. htop processor usage</th> <th>20%</th> <th>11%</th> <th>3.5%</th> <th>3.2%</th></tr>
        <tr><th>6a. Shortest period (table below)</th> <th>26ms</th> <th>12ms</th> <th>168us</th> <th>280us</th></tr>
        <tr><th>6b. Shortest period proc usage</th> <th>100%</th> <th>100%</th> <th>100%</th> <th>71%</th></tr>
        <tr><th>7. How stable?</th> <th>+/-10ms</th> <th>+/-10ms</th> <th>+/-0ms</th> <th>+/-0ms</th></tr>
        <tr><th>8. How stable when launching vim?</th> <th>Relatively</th> <th>Relatively</th> <th>More than bash</th> <th>Completely</th></tr>
    </tbody>
</table>
9. Try cleaning up togglegpio.sh and removing unneeded lines. Does it impact the period?
     * Yes, less than half the overhead time.
10. togglegpio uses bash (first line in file). Try using sh. Is the period shorter?
     * Yes, the togglegpio-before.sh is now 226ms and togglegpio-after.sh is 212ms.
11. What's the shortest period you can get?
     * 12ms using the togglegpio-after.sh with sh.

| Sleep (ms) | Sh0 Per (ms) | Sh0 Proc. (%) | Sh1 Per (ms) | Sh1 Proc. (%) | Py Per (ms) | Py Proc (%) | C Per (ms) | C Proc (%) |
| ---------- | ------------ | ------------- | ------------ | ------------- | ----------- | ----------- | ---------- | ---------- |
| 100        | 226          | 14            | 212          | 9             | 200         | 3.5         | 200        | 3.2        |
| 50         | 125          | 25            | 112          | 12            | 100         | 3.5         | 100        | 3.2        |
| 35         | 96           | 30            | 82           | 19            | 70          | 3.5         | 70         | 3.2        |
| 25         | 76           | 36            | 62           | 24            | 50          | 3.5         | 50         | 3.6        |
| 15         | 56           | 49            | 42           | 33            | 30          | 4           | 30         | 3.6        |
| 10         | 46           | 59            | 32           | 39            | 20          | 5           | 20         | 4.0        |
| 5          | 36           | 75            | 22           | 59            | 10          | 6           | 10         | 5.0        |
| 3          | 32           | 83            | 18           | 71            | 6           | 15          | 6          | 6.0        |
| 2          | 30           | 88            | 16           | 76            | 4           | 9           | 4          | 9.0        |
| 1          | 28           | 94            | 14           | 88            | 2.36        | 17          | 2.30       | 6.3        |
| 0.5        | 28           | 97            | 12           | 93            | 1.36        | 22          | 1.30       | 25         |
| 0          | 26           | 100           | 12           | 100           | 0.168       | 100         | 0.28       | 71         |

Note: The two shell ones are using sh instead of bash.

### New files for this part
#### [`togglegpio-before.sh`](togglegpio-before.sh)
Copied from `exercises/gpio/togglegpio.sh`
#### [`togglegpio-after.sh`](togglegpio-after.sh)
Revised version of `togglegpio-before.sh`
#### [`togglegpio.py`](togglegpio.py)
##### Usage `bone# ./togglegpio.py <sleep time in seconds>`
#### `togglegpio-original`
Just copied the complied output `exercises/gpio/togglegpio` generated by the Makefile.

## Etch-a-sketch
##### Usage `bone# ./sketch.py`
[`sketch.py`](sketch.py)

## Extras
### Modify `togglegpio.c`
TODO
### Modify `gpio-int-test.c`
TODO
